"use strict";
const Node = require("../core/Node.js");
const CameraNode = require("./CameraNode.js");
const ModelNode = require("./ModelNode.js");
const OperatorNode = require("../math/OperatorNode.js");
const PositionNode = require("./PositionNode.js");
class ModelViewProjectionNode extends Node {
  constructor(position = new PositionNode()) {
    super("vec4");
    this.position = position;
  }
  generate(builder) {
    const position = this.position;
    const mvpMatrix = new OperatorNode(
      "*",
      new CameraNode(CameraNode.PROJECTION_MATRIX),
      new ModelNode(ModelNode.VIEW_MATRIX)
    );
    const mvpNode = new OperatorNode("*", mvpMatrix, position);
    return mvpNode.build(builder);
  }
}
module.exports = ModelViewProjectionNode;
