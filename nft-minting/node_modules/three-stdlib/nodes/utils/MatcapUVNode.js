"use strict";
const TempNode = require("../core/TempNode.js");
const ShaderNode = require("../ShaderNode.js");
class MatcapUVNode extends TempNode {
  constructor() {
    super("vec2");
  }
  generate(builder) {
    const x = ShaderNode.normalize(ShaderNode.join(ShaderNode.positionViewDirection.z, 0, ShaderNode.negate(ShaderNode.positionViewDirection.x)));
    const y = ShaderNode.cross(ShaderNode.positionViewDirection, x);
    const uv = ShaderNode.add(ShaderNode.mul(ShaderNode.join(ShaderNode.dot(x, ShaderNode.transformedNormalView), ShaderNode.dot(y, ShaderNode.transformedNormalView)), 0.495), 0.5);
    return uv.build(builder, this.getNodeType(builder));
  }
}
module.exports = MatcapUVNode;
